require 'spec_helper'

describe Question do

  before do
    @question = Question.new(original_text: "question original text here",
                              display_text: "question display text here")
  end

  subject{ @question }

  context "original_text" do
    it { should respond_to(:original_text) }
    it { should ensure_length_of(:original_text).
          is_at_least(1).
          is_at_most(500) }
    its('class.readonly_attributes') { should include "original_text" }

    it "no updating the original_text" do
      question = Question.create(original_text: "foo", display_text: "hi")
      question.update_attributes :original_text => 'bar'
      question.reload.original_text.should eql 'foo'
    end
  end

  context "display_text" do
    it { should respond_to(:display_text) }
    it { should ensure_length_of(:display_text).
          is_at_least(1).   
          is_at_most(500) }
  end
end
